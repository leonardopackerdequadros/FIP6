{"title":"Data Frame","markdown":{"yaml":{"title":"Data Frame","format":"html","editor":"visual","author":"Leonardo Packer de Quadros","execute":{"error":false,"warning":false}},"headingText":"Estrutura de Dados","containsRefs":false,"markdown":"\n\nA partir desta seção o objetivo será fornecer uma visão geral rápida das principais ferramentas para a importação, organização, transformação e visualização de dados. Iniciaremos abordando a importação e organização de dados.\n\n\nA estrutura dos dados pode ser classificada em várias formas:\n\n1.  Escalares e Vetoriais: São os tipos mais simples de estrutura de dados. Os vetores podem conter um único valor, sendo chamados de escalares, ou múltiplos valores. Podem ser compostos por números, caracteres, fatores ou valores lógicos. Todos os elementos dentro de um vetor devem ser da mesma classe e podem incluir valores NA.\n\n2.  Matrizes e Arrays: Matrizes são vetores com atributos adicionais chamados dimensões. Arrays são matrizes multidimensionais, permitindo mais de duas dimensões.\n\n3.  Listas: Estruturas de dados que podem armazenar elementos de diferentes classes, incluindo outros vetores, matrizes, arrays e até outras listas. Um data.frame é um tipo especial de lista.\n\n4.  Quadros de Dados (Data Frames): A forma de estrutura de dados mais utilizada. Podem conter diferentes classes de dados, onde cada linha representa uma observação individual e cada coluna corresponde a uma variável. É importante que todas as colunas tenham o mesmo número de observações para manter a regularidade dos dados.\n\n## Data Frame\n\nUm data.frame é uma estrutura de dados que organiza-os em uma tabela bidimensional de linhas e colunas.\n\n## Importação do Data Frame\n\nO data frame pode ser importado de algum pacote, em fomato Excel, csv e txt, em Google Sheets, ou copiados, colados ou digitados direto na interface R.\n\n#### Data Frame disponível em um pacote\n\n```{r}\nlibrary(DT)\n\n## Carregamento do pacote ao qual estão dispostos o data.frame \nlibrary(ec50estimator)\n\n## criação do objeto atribuindo nome ao meu data.frame \ndata.frame1 <- multi_isolate\n\n## apresentando o meu data.frame \ndatatable(multi_isolate)\n```\n\n#### Data Frame disponível em formato Excel dentro da pasta do projeto\n\n```{r}\nlibrary(readxl)\n\n## chamando o documento que será o meu data.frame\ndata.frame_2 <- read_excel(\"dados-diversos.xlsx\")\n\n## Quero a segunda planilha do documento \ndata.frame_2 <- read_excel(\"dados-diversos.xlsx\", sheet=\"escala\")\ndata.frame_2 <- read_excel(\"dados-diversos.xlsx\", \"escala\")\ndata.frame_2 <-read_excel(\"dados-diversos.xlsx\",2)\n\ndatatable(data.frame_2)\n```\n\n#### Data Frame disponível em formato csv dentro da pasta do projeto\n\n```{r}\nlibrary(tidyverse)\n\n## chamando o documento que será o meu data.frame\ndata.frame_3 <- read_csv(\"dados-diversos_1.csv\")\n\ndatatable(data.frame_3)\n```\n\n#### Data Frame disponível em Google Sheets\n\n```{r}\nlibrary(gsheet)\n\ndata.frame_4 <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1pAIFKsdKxk_UQQXdYwIO-O5NOkYNhpclImJcLziYnk4/edit#gid=50258992\")\n\ndatatable(data.frame_4)\n```\n\n#### Data Frame inserido manualmente e colado no Chunk\n\n```{r}\nlibrary(datapasta)\n\n## função tribble facilita a criação de tibbles (uma modernização dos data frames)\ndata.frame_5 <- tibble::tribble(\n            ~trat, ~rep, ~comp,\n            \"Mg2\",   1L,     9,\n            \"Mg2\",   2L,  12.5,\n            \"Mg2\",   3L,    10,\n            \"Mg2\",   4L,     8,\n            \"Mg2\",   5L,  13.2,\n            \"Mg2\",   6L,    11,\n            \"Mg2\",   7L,  10.8,\n            \"Mg2\",   8L,   9.5,\n            \"Mg2\",   9L,  10.8,\n            \"Mg2\",  10L,  10.4,\n        \"control\",   1L, 13.72,\n        \"control\",   2L, 15.91,\n        \"control\",   3L,  15.7,\n        \"control\",   4L,  14.2,\n        \"control\",   5L,  15.9,\n        \"control\",   6L, 16.54,\n        \"control\",   7L,    18,\n        \"control\",   8L,  14.4,\n        \"control\",   9L, 16.41,\n        \"control\",  10L,    16\n        )\n\ndatatable(data.frame_5)\n```\n\n#### Data Frame com inserção manual dos dados de cada variável/coluna como um fator\n\n```{r}\ndata.frame_6 <- c(\"comp\", \"9\", \"12.5\", \"10\", \"8\", \"13.2\", \"11\", \"10.8\", \"9.5\", \"10.8\", \"10.4\", \"13.72\", \"15.91\", \"15.7\", \"14.2\", \"15.9\", \"16.54\", \"18\", \"14.4\", \"16.41\", \"16\")\n\ndata.frame_6\n```\n\n```{r}\ndata.frame_7 <- data.frame(\n  stringsAsFactors = FALSE,\n              trat = c(\"Mg2\",\"Mg2\",\"Mg2\",\"Mg2\",\n                       \"Mg2\",\"Mg2\",\"Mg2\",\"Mg2\",\"Mg2\",\"Mg2\",\"control\",\n                       \"control\",\"control\",\"control\",\"control\",\"control\",\"control\",\n                       \"control\",\"control\",\"control\"),\n               rep = c(1L,2L,3L,4L,5L,6L,7L,8L,\n                       9L,10L,1L,2L,3L,4L,5L,6L,7L,8L,9L,10L),\n              comp = c(9,12.5,10,8,13.2,11,10.8,\n                       9.5,10.8,10.4,13.72,15.91,15.7,14.2,15.9,16.54,\n                       18,14.4,16.41,16)\n)\n\ndatatable(data.frame_7)\n```\n\n#### Data Frame copiado da Internet\n\n```{r}\ndata.frame_8 <- tibble::tribble(\n        ~Nº,             ~País,        ~Área,         ~Habitantes, ~`População.por.km²`,                            \n         1L,            \"Rússia\", \"17.098.300 km²\",   \"144,2 mi\",                \"8,4\",\n         2L,            \"Canadá\",  \"9.984.700 km²\",    \"38,9 mi\",                \"3,9\",\n         3L,             \"China\",  \"9.562.900 km²\", \"1.425,7 mi\",              \"149,1\",\n         4L,               \"USA\",  \"9.525.100 km²\",   \"333,3 mi\",               \"35,0\",\n         5L,            \"Brasil\",  \"8.515.800 km²\",   \"215,3 mi\",               \"25,3\",\n         6L,         \"Austrália\",  \"7.741.200 km²\",    \"26,0 mi\",                \"3,4\",\n         7L,             \"Índia\",  \"3.287.300 km²\", \"1.425,8 mi\",              \"433,7\",\n         8L,         \"Argentina\",  \"2.780.400 km²\",    \"46,2 mi\",               \"16,6\",\n         9L,       \"Cazaquistão\",  \"2.724.900 km²\",    \"19,6 mi\",                \"7,2\",\n        10L,           \"Argélia\",  \"2.381.700 km²\",    \"44,9 mi\",               \"18,9\",\n        11L, \"Congo (dem. rep.)\",  \"2.344.900 km²\",    \"99,0 mi\",               \"42,2\",\n        12L,     \"Groenlândia *\",  \"2.166.100 km²\",     \"0,1 mi\",                \"0,0\",\n        13L,    \"Arábia Saudita\",  \"2.149.700 km²\",    \"36,4 mi\",               \"16,9\",\n        14L,            \"México\",  \"1.964.400 km²\",   \"127,5 mi\",               \"64,9\",\n        15L,         \"Indonésia\",  \"1.913.600 km²\",   \"275,5 mi\",              \"144,0\",\n        16L,             \"Sudão\",  \"1.879.400 km²\",    \"46,9 mi\",               \"24,9\",\n        17L,             \"Líbia\",  \"1.759.500 km²\",     \"6,8 mi\",                \"3,9\",\n        18L,               \"Irã\",  \"1.648.200 km²\",    \"88,6 mi\",               \"53,7\",\n        19L,          \"Mongólia\",  \"1.564.100 km²\",     \"3,4 mi\",                \"2,2\",\n        20L,              \"Peru\",  \"1.285.200 km²\",    \"34,0 mi\",               \"26,5\",\n        21L,             \"Chade\",  \"1.284.000 km²\",    \"17,7 mi\",               \"13,8\",\n        22L,             \"Níger\",  \"1.267.000 km²\",    \"26,2 mi\",               \"20,7\",\n        23L,            \"Angola\",  \"1.246.700 km²\",    \"35,6 mi\",               \"28,5\",\n        24L,              \"Mali\",  \"1.240.200 km²\",    \"22,6 mi\",               \"18,2\",\n        25L,     \"África do Sul\",  \"1.219.100 km²\",    \"59,9 mi\",               \"49,1\",\n        26L,          \"Colômbia\",  \"1.141.700 km²\",    \"51,9 mi\",               \"45,4\",\n        27L,           \"Etiópia\",  \"1.104.300 km²\",   \"123,4 mi\",              \"111,7\",\n        28L,           \"Bolívia\",  \"1.098.600 km²\",    \"12,2 mi\",               \"11,1\",\n        29L,        \"Mauritânia\",  \"1.030.700 km²\",     \"4,7 mi\",                \"4,6\",\n        30L,             \"Egito\",  \"1.001.500 km²\",   \"111,0 mi\",              \"110,8\"\n        )\n\ndatatable(data.frame_8)\n```\n\n## Tipos de Dados\n\nOs dados disponíveis no data frame podem ser das classes:\n\nNumérico - com uma ou mais casas decimais;\n\nInteiro - sem casas decimais;\n\nLógico; Complexo;\n\nCaraceter - pode ser um fator por exemplo.\n\n#### Descobrir a classse dos dados de alguma variável por teste lógico\n\n```{r}\nclass(data.frame_8$Habitantes)\n```\n\n```{r}\nis.character(data.frame_8$Habitantes)\n```\n\n#### Alteração da classe dos dados de uma variável\n\n```{r}\ndata.frame_8$Habitantes <- as.numeric(data.frame_8$Habitantes)\ndata.frame_8$Habitantes <- as.character(data.frame_8$Habitantes)\ndata.frame_8$Habitantes <- as.factor(data.frame_8$Habitantes)\n```\n\n## Organização do Data Frame\n\n```{r}\ndata.frame_9 <- read_csv(\"https://raw.githubusercontent.com/emdelponte/paper-coffee-rust-Ethiopia/master/data/survey_clean.csv\")\n\n## Observação a classe dos dados da variável \nglimpse(data.frame_9)\n\n## Abertura do data.frame em uma nova aba \nview(data.frame_9)\n```\n\n#### Sumarização dos parâmetros de estatística descritiva de uma variável resposta\n\n```{r}\nsummary(data.frame_9$inc)\n```\n\n#### Filtrando os dados da variável resposta por um fator\n\n```{r}\n## Filtrando os dados da variável respota inc pelo fator region\ndata.frame_9|>\n  group_by(region)|>\n  summarize(inc_mean = mean(inc),\n            sd_mean = sd(inc),\n            sd_mean = sd(inc))\n\ndatatable(data.frame_9)\n```\n\n```{r}\n## Agrupando os dados da variável resposta sev pelo fator cultivar \ndata.frame_9|>\n  group_by(cultivar)|>\n  summarise(sev_med = median(sev2), sev_mean = mean(sev2), sev_sd = sd(sev2))\n\ndatatable(data.frame_9)\n```\n\n#### Criando um subconjunto\n\n```{r}\n## Selecionando os fatores farm, region e cultivar, e a variável resposta sev2\ndata.frame_9_2<-data.frame_9|>\n  select(farm, region, cultivar, sev2)\n\ndatatable(data.frame_9_2)\n```\n\n```{r}\n## Selecionando linhas pelo nível do fator region Oromia, e colunas pelos fatores farm, region e cultivar, e variável resposta sev2\ndata.frame_9_oromia<-data.frame_9|>\n  select(farm, region, cultivar, sev2)|>\n  filter(region==\"Oromia\")\n\ndatatable(data.frame_9_oromia)\n```\n\n\n## Passando os dados de formato largo para formato longo\n\nAção necessária para realização de algumas anáalises de estatística inferencial \n\n```{r}\nmg <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1bq2N19DcZdtax2fQW9OHSGMR0X2__Z9T/edit#gid=983033137\")\n\nmg2 <- mg |>\n  pivot_wider(names_from = trat, \n              values_from = comp)\n\ndatatable(mg2)\n```\n\n\n## Chequando a heterocedacidade e normalidade dos dados \n\nA normalidade dos resíduos e a homogeneidade de variâncias são pressupostos fundamentais em muitas análises estatísticas, como a análise de variância (ANOVA), testes t, e regressões lineares. Verificar esses pressupostos é crucial porque a violação deles pode levar a resultados inválidos ou enganosos. A normalidade refere-se à suposição de que os dados (ou os resíduos de um modelo) seguem uma distribuição normal (distribuição gaussiana). Muitas técnicas estatísticas, como o teste t e a ANOVA, assumem que os dados são normalmente distribuídos para que os resultados sejam válidos. A homogeneidade de variâncias (ou homocedasticidade) refere-se à suposição de que os diferentes grupos que estão sendo comparados têm variâncias iguais. Este é um pressuposto importante para testes como a ANOVA e a regressão linear. Só através dos testes em diante poderemos confiar nas análises paramétricas, como teste t e ANOVA. \n\n\n#### Testando a normalidade dos resíduos \n\nImpostante para realizar o teste t\n\n```{r}\n## carregando o pacote\nmg <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1bq2N19DcZdtax2fQW9OHSGMR0X2__Z9T/edit#gid=983033137\")\n\n## Teste de Shapiro-Wilk\nshapiro.test(mg2$control)\n\n## Histograma para ver se a distribuição dos dados seguem a distribuição normal\nhist(mg2$control)\n\n## Gráfico Q-Q dos resíduos para verificar normalidade\nqqnorm(mg2$control)\nqqline(mg2$control)\n\n```\n\nAceito a hipótese nula de que o resíduo dos meus dados são normais \n\n\nPórem em não há normalidade dos resíduos ou homogeneidade das variâncias, devo seguir um teste não paramétrico, ou optar pela tranformação destes dados \n\n## Tranformação de Dados \n\nPode ser feita log, box cox e entre outro (veremos em análise exploratória)\n\n","srcMarkdownNoYaml":"\n\nA partir desta seção o objetivo será fornecer uma visão geral rápida das principais ferramentas para a importação, organização, transformação e visualização de dados. Iniciaremos abordando a importação e organização de dados.\n\n## Estrutura de Dados\n\nA estrutura dos dados pode ser classificada em várias formas:\n\n1.  Escalares e Vetoriais: São os tipos mais simples de estrutura de dados. Os vetores podem conter um único valor, sendo chamados de escalares, ou múltiplos valores. Podem ser compostos por números, caracteres, fatores ou valores lógicos. Todos os elementos dentro de um vetor devem ser da mesma classe e podem incluir valores NA.\n\n2.  Matrizes e Arrays: Matrizes são vetores com atributos adicionais chamados dimensões. Arrays são matrizes multidimensionais, permitindo mais de duas dimensões.\n\n3.  Listas: Estruturas de dados que podem armazenar elementos de diferentes classes, incluindo outros vetores, matrizes, arrays e até outras listas. Um data.frame é um tipo especial de lista.\n\n4.  Quadros de Dados (Data Frames): A forma de estrutura de dados mais utilizada. Podem conter diferentes classes de dados, onde cada linha representa uma observação individual e cada coluna corresponde a uma variável. É importante que todas as colunas tenham o mesmo número de observações para manter a regularidade dos dados.\n\n## Data Frame\n\nUm data.frame é uma estrutura de dados que organiza-os em uma tabela bidimensional de linhas e colunas.\n\n## Importação do Data Frame\n\nO data frame pode ser importado de algum pacote, em fomato Excel, csv e txt, em Google Sheets, ou copiados, colados ou digitados direto na interface R.\n\n#### Data Frame disponível em um pacote\n\n```{r}\nlibrary(DT)\n\n## Carregamento do pacote ao qual estão dispostos o data.frame \nlibrary(ec50estimator)\n\n## criação do objeto atribuindo nome ao meu data.frame \ndata.frame1 <- multi_isolate\n\n## apresentando o meu data.frame \ndatatable(multi_isolate)\n```\n\n#### Data Frame disponível em formato Excel dentro da pasta do projeto\n\n```{r}\nlibrary(readxl)\n\n## chamando o documento que será o meu data.frame\ndata.frame_2 <- read_excel(\"dados-diversos.xlsx\")\n\n## Quero a segunda planilha do documento \ndata.frame_2 <- read_excel(\"dados-diversos.xlsx\", sheet=\"escala\")\ndata.frame_2 <- read_excel(\"dados-diversos.xlsx\", \"escala\")\ndata.frame_2 <-read_excel(\"dados-diversos.xlsx\",2)\n\ndatatable(data.frame_2)\n```\n\n#### Data Frame disponível em formato csv dentro da pasta do projeto\n\n```{r}\nlibrary(tidyverse)\n\n## chamando o documento que será o meu data.frame\ndata.frame_3 <- read_csv(\"dados-diversos_1.csv\")\n\ndatatable(data.frame_3)\n```\n\n#### Data Frame disponível em Google Sheets\n\n```{r}\nlibrary(gsheet)\n\ndata.frame_4 <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1pAIFKsdKxk_UQQXdYwIO-O5NOkYNhpclImJcLziYnk4/edit#gid=50258992\")\n\ndatatable(data.frame_4)\n```\n\n#### Data Frame inserido manualmente e colado no Chunk\n\n```{r}\nlibrary(datapasta)\n\n## função tribble facilita a criação de tibbles (uma modernização dos data frames)\ndata.frame_5 <- tibble::tribble(\n            ~trat, ~rep, ~comp,\n            \"Mg2\",   1L,     9,\n            \"Mg2\",   2L,  12.5,\n            \"Mg2\",   3L,    10,\n            \"Mg2\",   4L,     8,\n            \"Mg2\",   5L,  13.2,\n            \"Mg2\",   6L,    11,\n            \"Mg2\",   7L,  10.8,\n            \"Mg2\",   8L,   9.5,\n            \"Mg2\",   9L,  10.8,\n            \"Mg2\",  10L,  10.4,\n        \"control\",   1L, 13.72,\n        \"control\",   2L, 15.91,\n        \"control\",   3L,  15.7,\n        \"control\",   4L,  14.2,\n        \"control\",   5L,  15.9,\n        \"control\",   6L, 16.54,\n        \"control\",   7L,    18,\n        \"control\",   8L,  14.4,\n        \"control\",   9L, 16.41,\n        \"control\",  10L,    16\n        )\n\ndatatable(data.frame_5)\n```\n\n#### Data Frame com inserção manual dos dados de cada variável/coluna como um fator\n\n```{r}\ndata.frame_6 <- c(\"comp\", \"9\", \"12.5\", \"10\", \"8\", \"13.2\", \"11\", \"10.8\", \"9.5\", \"10.8\", \"10.4\", \"13.72\", \"15.91\", \"15.7\", \"14.2\", \"15.9\", \"16.54\", \"18\", \"14.4\", \"16.41\", \"16\")\n\ndata.frame_6\n```\n\n```{r}\ndata.frame_7 <- data.frame(\n  stringsAsFactors = FALSE,\n              trat = c(\"Mg2\",\"Mg2\",\"Mg2\",\"Mg2\",\n                       \"Mg2\",\"Mg2\",\"Mg2\",\"Mg2\",\"Mg2\",\"Mg2\",\"control\",\n                       \"control\",\"control\",\"control\",\"control\",\"control\",\"control\",\n                       \"control\",\"control\",\"control\"),\n               rep = c(1L,2L,3L,4L,5L,6L,7L,8L,\n                       9L,10L,1L,2L,3L,4L,5L,6L,7L,8L,9L,10L),\n              comp = c(9,12.5,10,8,13.2,11,10.8,\n                       9.5,10.8,10.4,13.72,15.91,15.7,14.2,15.9,16.54,\n                       18,14.4,16.41,16)\n)\n\ndatatable(data.frame_7)\n```\n\n#### Data Frame copiado da Internet\n\n```{r}\ndata.frame_8 <- tibble::tribble(\n        ~Nº,             ~País,        ~Área,         ~Habitantes, ~`População.por.km²`,                            \n         1L,            \"Rússia\", \"17.098.300 km²\",   \"144,2 mi\",                \"8,4\",\n         2L,            \"Canadá\",  \"9.984.700 km²\",    \"38,9 mi\",                \"3,9\",\n         3L,             \"China\",  \"9.562.900 km²\", \"1.425,7 mi\",              \"149,1\",\n         4L,               \"USA\",  \"9.525.100 km²\",   \"333,3 mi\",               \"35,0\",\n         5L,            \"Brasil\",  \"8.515.800 km²\",   \"215,3 mi\",               \"25,3\",\n         6L,         \"Austrália\",  \"7.741.200 km²\",    \"26,0 mi\",                \"3,4\",\n         7L,             \"Índia\",  \"3.287.300 km²\", \"1.425,8 mi\",              \"433,7\",\n         8L,         \"Argentina\",  \"2.780.400 km²\",    \"46,2 mi\",               \"16,6\",\n         9L,       \"Cazaquistão\",  \"2.724.900 km²\",    \"19,6 mi\",                \"7,2\",\n        10L,           \"Argélia\",  \"2.381.700 km²\",    \"44,9 mi\",               \"18,9\",\n        11L, \"Congo (dem. rep.)\",  \"2.344.900 km²\",    \"99,0 mi\",               \"42,2\",\n        12L,     \"Groenlândia *\",  \"2.166.100 km²\",     \"0,1 mi\",                \"0,0\",\n        13L,    \"Arábia Saudita\",  \"2.149.700 km²\",    \"36,4 mi\",               \"16,9\",\n        14L,            \"México\",  \"1.964.400 km²\",   \"127,5 mi\",               \"64,9\",\n        15L,         \"Indonésia\",  \"1.913.600 km²\",   \"275,5 mi\",              \"144,0\",\n        16L,             \"Sudão\",  \"1.879.400 km²\",    \"46,9 mi\",               \"24,9\",\n        17L,             \"Líbia\",  \"1.759.500 km²\",     \"6,8 mi\",                \"3,9\",\n        18L,               \"Irã\",  \"1.648.200 km²\",    \"88,6 mi\",               \"53,7\",\n        19L,          \"Mongólia\",  \"1.564.100 km²\",     \"3,4 mi\",                \"2,2\",\n        20L,              \"Peru\",  \"1.285.200 km²\",    \"34,0 mi\",               \"26,5\",\n        21L,             \"Chade\",  \"1.284.000 km²\",    \"17,7 mi\",               \"13,8\",\n        22L,             \"Níger\",  \"1.267.000 km²\",    \"26,2 mi\",               \"20,7\",\n        23L,            \"Angola\",  \"1.246.700 km²\",    \"35,6 mi\",               \"28,5\",\n        24L,              \"Mali\",  \"1.240.200 km²\",    \"22,6 mi\",               \"18,2\",\n        25L,     \"África do Sul\",  \"1.219.100 km²\",    \"59,9 mi\",               \"49,1\",\n        26L,          \"Colômbia\",  \"1.141.700 km²\",    \"51,9 mi\",               \"45,4\",\n        27L,           \"Etiópia\",  \"1.104.300 km²\",   \"123,4 mi\",              \"111,7\",\n        28L,           \"Bolívia\",  \"1.098.600 km²\",    \"12,2 mi\",               \"11,1\",\n        29L,        \"Mauritânia\",  \"1.030.700 km²\",     \"4,7 mi\",                \"4,6\",\n        30L,             \"Egito\",  \"1.001.500 km²\",   \"111,0 mi\",              \"110,8\"\n        )\n\ndatatable(data.frame_8)\n```\n\n## Tipos de Dados\n\nOs dados disponíveis no data frame podem ser das classes:\n\nNumérico - com uma ou mais casas decimais;\n\nInteiro - sem casas decimais;\n\nLógico; Complexo;\n\nCaraceter - pode ser um fator por exemplo.\n\n#### Descobrir a classse dos dados de alguma variável por teste lógico\n\n```{r}\nclass(data.frame_8$Habitantes)\n```\n\n```{r}\nis.character(data.frame_8$Habitantes)\n```\n\n#### Alteração da classe dos dados de uma variável\n\n```{r}\ndata.frame_8$Habitantes <- as.numeric(data.frame_8$Habitantes)\ndata.frame_8$Habitantes <- as.character(data.frame_8$Habitantes)\ndata.frame_8$Habitantes <- as.factor(data.frame_8$Habitantes)\n```\n\n## Organização do Data Frame\n\n```{r}\ndata.frame_9 <- read_csv(\"https://raw.githubusercontent.com/emdelponte/paper-coffee-rust-Ethiopia/master/data/survey_clean.csv\")\n\n## Observação a classe dos dados da variável \nglimpse(data.frame_9)\n\n## Abertura do data.frame em uma nova aba \nview(data.frame_9)\n```\n\n#### Sumarização dos parâmetros de estatística descritiva de uma variável resposta\n\n```{r}\nsummary(data.frame_9$inc)\n```\n\n#### Filtrando os dados da variável resposta por um fator\n\n```{r}\n## Filtrando os dados da variável respota inc pelo fator region\ndata.frame_9|>\n  group_by(region)|>\n  summarize(inc_mean = mean(inc),\n            sd_mean = sd(inc),\n            sd_mean = sd(inc))\n\ndatatable(data.frame_9)\n```\n\n```{r}\n## Agrupando os dados da variável resposta sev pelo fator cultivar \ndata.frame_9|>\n  group_by(cultivar)|>\n  summarise(sev_med = median(sev2), sev_mean = mean(sev2), sev_sd = sd(sev2))\n\ndatatable(data.frame_9)\n```\n\n#### Criando um subconjunto\n\n```{r}\n## Selecionando os fatores farm, region e cultivar, e a variável resposta sev2\ndata.frame_9_2<-data.frame_9|>\n  select(farm, region, cultivar, sev2)\n\ndatatable(data.frame_9_2)\n```\n\n```{r}\n## Selecionando linhas pelo nível do fator region Oromia, e colunas pelos fatores farm, region e cultivar, e variável resposta sev2\ndata.frame_9_oromia<-data.frame_9|>\n  select(farm, region, cultivar, sev2)|>\n  filter(region==\"Oromia\")\n\ndatatable(data.frame_9_oromia)\n```\n\n\n## Passando os dados de formato largo para formato longo\n\nAção necessária para realização de algumas anáalises de estatística inferencial \n\n```{r}\nmg <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1bq2N19DcZdtax2fQW9OHSGMR0X2__Z9T/edit#gid=983033137\")\n\nmg2 <- mg |>\n  pivot_wider(names_from = trat, \n              values_from = comp)\n\ndatatable(mg2)\n```\n\n\n## Chequando a heterocedacidade e normalidade dos dados \n\nA normalidade dos resíduos e a homogeneidade de variâncias são pressupostos fundamentais em muitas análises estatísticas, como a análise de variância (ANOVA), testes t, e regressões lineares. Verificar esses pressupostos é crucial porque a violação deles pode levar a resultados inválidos ou enganosos. A normalidade refere-se à suposição de que os dados (ou os resíduos de um modelo) seguem uma distribuição normal (distribuição gaussiana). Muitas técnicas estatísticas, como o teste t e a ANOVA, assumem que os dados são normalmente distribuídos para que os resultados sejam válidos. A homogeneidade de variâncias (ou homocedasticidade) refere-se à suposição de que os diferentes grupos que estão sendo comparados têm variâncias iguais. Este é um pressuposto importante para testes como a ANOVA e a regressão linear. Só através dos testes em diante poderemos confiar nas análises paramétricas, como teste t e ANOVA. \n\n\n#### Testando a normalidade dos resíduos \n\nImpostante para realizar o teste t\n\n```{r}\n## carregando o pacote\nmg <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1bq2N19DcZdtax2fQW9OHSGMR0X2__Z9T/edit#gid=983033137\")\n\n## Teste de Shapiro-Wilk\nshapiro.test(mg2$control)\n\n## Histograma para ver se a distribuição dos dados seguem a distribuição normal\nhist(mg2$control)\n\n## Gráfico Q-Q dos resíduos para verificar normalidade\nqqnorm(mg2$control)\nqqline(mg2$control)\n\n```\n\nAceito a hipótese nula de que o resíduo dos meus dados são normais \n\n\nPórem em não há normalidade dos resíduos ou homogeneidade das variâncias, devo seguir um teste não paramétrico, ou optar pela tranformação destes dados \n\n## Tranformação de Dados \n\nPode ser feita log, box cox e entre outro (veremos em análise exploratória)\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":true,"freeze":"auto","echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"Data Frame.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.555","editor":"visual","theme":"lux","title":"Data Frame","author":"Leonardo Packer de Quadros"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}