<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Leonardo Packer de Quadros">

<title>Análise de Correlação</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Análise de Correlação_files/libs/clipboard/clipboard.min.js"></script>
<script src="Análise de Correlação_files/libs/quarto-html/quarto.js"></script>
<script src="Análise de Correlação_files/libs/quarto-html/popper.min.js"></script>
<script src="Análise de Correlação_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Análise de Correlação_files/libs/quarto-html/anchor.min.js"></script>
<link href="Análise de Correlação_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Análise de Correlação_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Análise de Correlação_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Análise de Correlação_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Análise de Correlação_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="Análise de Correlação_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="Análise de Correlação_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<link href="Análise de Correlação_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

<script src="Análise de Correlação_files/libs/datatables-binding-0.33/datatables.js"></script>

<script src="Análise de Correlação_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="Análise de Correlação_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

<link href="Análise de Correlação_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

<script src="Análise de Correlação_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

<link href="Análise de Correlação_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="Análise de Correlação_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>



</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Análise de Correlação</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Leonardo Packer de Quadros </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p>A análise de correlação é uma técnica estatística usada para medir e descrever a força e a direção da relação linear entre duas variáveis quantitativas. Essa análise é fundamental em muitas áreas da ciência, incluindo estatística, economia, biologia, psicologia e ciências sociais, pois permite identificar se e como as variáveis estão relacionadas. O coeficiente de correlação é um número que quantifica a relação entre duas variáveis. Ele varia entre -1 e 1, sendo 1 muito correlacionadas positivamente, e -1, correlacionadas negativamente. O coeficiente mais comuns é coeficiente de correlação de Pearson.</p>
<section id="carregamento-dos-pacotes" class="level4">
<h4 class="anchored" data-anchor-id="carregamento-dos-pacotes">Carregamento dos pacotes</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gsheet)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(AgroR)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrplot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vamos considerar o software “Assess” como o padrão de quantificação de severidade de doença. Vamos realizar gráficos de correlação entre ele e os outros softwares, “LeafDoctor” e “ImageJ”. O objetivo é verificar se os métodos possuem correlação, e se essa será positiva ou negativa.</p>
</section>
<section id="exemplo-1" class="level2">
<h2 class="anchored" data-anchor-id="exemplo-1">Exemplo 1</h2>
<section id="carregando-os-dados" class="level4">
<h4 class="anchored" data-anchor-id="carregando-os-dados">Carregando os dados</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>corr <span class="ot">&lt;-</span> <span class="fu">gsheet2tbl</span>(<span class="st">"https://docs.google.com/spreadsheets/d/1bq2N19DcZdtax2fQW9OHSGMR0X2__Z9T/edit#gid=373270992"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(corr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-1bf04170f91e64a309c5" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1bf04170f91e64a309c5">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70"],["Rosa","Rosa","Rosa","Rosa","Rosa","Rosa","Rosa","Rosa","Rosa","Rosa","Rosa","Rosa","Rosa","Rosa","Rosa","Rosa","Rosa","Rosa","Rosa","Rosa","Tomate","Tomate","Tomate","Tomate","Tomate","Tomate","Tomate","Tomate","Tomate","Tomate","Tomate","Tomate","Tomate","Tomate","Tomate","Cafe","Cafe","Cafe","Cafe","Cafe","Cafe","Cafe","Cafe","Cafe","Cafe","Cafe","Cafe","Cafe","Cafe","Cafe","Cafe","Feijao","Feijao","Feijao","Feijao","Feijao","Feijao","Feijao","Feijao","Feijao","Feijao","Feijao","Feijao","Feijao","Feijao","Feijao","Feijao","Feijao","Feijao","Feijao"],[21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,2,3,4,9,10,11,12,13,14,15,16,17,18,19,20,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],[19.95,4.77,72.11,81.37,25.78,80.45,81.69,7.02,11.23,79.08,34.24,12.39,65.17,41.03,84.12,46.14,6.82,14.14,36.43,14.26,2.74,4.08,2.64,3.22,11.88,3.77,2.36,7.4,1.88,0.19,22.52,0.64,1.46,1.03,36.21,0.02,0.18,2.14,1.77,3.29,1.08,1.17,14.79,16.48,1.32,19.44,21.17,9.5,13.87,53.8,0.13,1.27,11.93,29.36,22.32,11.82,1.84,0.72,21.17,19.56,0.9,35.89,7.52,11.51,15.43,13.35,76.41,0.18,7.9,9.609999999999999],[31.55,13.53,77.59,90.83,24.54,73.84,86.78,14.04,16.01,77.01000000000001,44.58,20.89,62.04,58.24,76.62,44.16,6.69,20.3,40.46,15.09,4.51,4.17,3.19,3.64,17.59,4.01,3.39,6.02,1.31,1.01,32.05,2.95,3.89,2.41,29.67,0.77,1.08,3.68,2.93,2.11,1.07,1.76,22.45,12.1,3.9,14.73,17.82,9.76,13.95,72.31999999999999,0.84,1.78,7.9,33.99,20.18,8.58,2.99,2.33,20.06,24.78,1.44,23.86,10.06,12.02,10.85,10.5,48.55,0.45,9.26,8.029999999999999],[26.04,5.16,69.45999999999999,82.68000000000001,13.13,69.90000000000001,88.66,6.4,10.82,78.22,39.09,14.84,62.22,41.66,80.73999999999999,49.75,7.38,16.48,42.52,18.49,2.29,3.33,1.47,3.23,10.21,2.4,1.46,7.12,1.44,0.48,22.18,1,1.22,2.28,26.33,0.8,1.78,2.33,2.38,1.47,0.82,1.15,18.28,13,1.35,18.6,21.26,10.16,14.77,52.27,0.86,0.9399999999999999,8.880000000000001,16.77,22.14,3.06,1.97,0.39,9.859999999999999,23.54,0.33,22.81,7.21,12.59,9.06,13.73,50.65,0.08,5.66,6.41]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Cultura<\/th>\n      <th>rep<\/th>\n      <th>Assess<\/th>\n      <th>LeafDoctor<\/th>\n      <th>ImageJ<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Cultura","targets":1},{"name":"rep","targets":2},{"name":"Assess","targets":3},{"name":"LeafDoctor","targets":4},{"name":"ImageJ","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="plot-dos-gráficos" class="level4">
<h4 class="anchored" data-anchor-id="plot-dos-gráficos">Plot dos gráficos</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> corr <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Assess, LeafDoctor))<span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> corr <span class="sc">%&gt;%</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Assess, ImageJ))<span class="sc">+</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>g1<span class="sc">|</span>g2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Análise-de-Correlação_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Os gráficos indicam que há uma correlação positiva entre os Softwares.</p>
</section>
<section id="gráfico-de-variabilidade-entre-os-softwares" class="level4">
<h4 class="anchored" data-anchor-id="gráfico-de-variabilidade-entre-os-softwares">Gráfico de variabilidade entre os softwares</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>corr <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">names_to =</span> <span class="st">"method"</span>,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(method , value))<span class="sc">+</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Análise-de-Correlação_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="determinação-dos-coeficientes-de-correlação-de-pearson" class="level4">
<h4 class="anchored" data-anchor-id="determinação-dos-coeficientes-de-correlação-de-pearson">Determinação dos coeficientes de correlação de Pearson</h4>
<p>Se utilizando da função nativa do R <code>cor.test</code>, obtêm-se os coefiente de correlação de Pearson.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.test</span>(corr<span class="sc">$</span>Assess, corr<span class="sc">$</span>LeafDoctor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's product-moment correlation

data:  corr$Assess and corr$LeafDoctor
t = 31.119, df = 68, p-value &lt; 2.2e-16
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 0.9466882 0.9792005
sample estimates:
      cor 
0.9666367 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.test</span>(corr<span class="sc">$</span>Assess, corr<span class="sc">$</span>ImageJ)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's product-moment correlation

data:  corr$Assess and corr$ImageJ
t = 38.383, df = 68, p-value &lt; 2.2e-16
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 0.9642331 0.9861219
sample estimates:
      cor 
0.9776918 </code></pre>
</div>
</div>
</section>
<section id="gráficos-para-apresentar-os-coeficientes-de-correlações" class="level4">
<h4 class="anchored" data-anchor-id="gráficos-para-apresentar-os-coeficientes-de-correlações">Gráficos para apresentar os coeficientes de correlações</h4>
<p>Com <strong><code>AgroR</code></strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>corr <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">corgraph</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Var1       Var2       cor            p
2 LeafDoctor     Assess 0.9666367 5.972544e-42
3     ImageJ     Assess 0.9776918 8.143613e-48
6     ImageJ LeafDoctor 0.9797478 3.144091e-49</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Análise-de-Correlação_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>corr2 <span class="ot">&lt;-</span> corr <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">corgraph</span>(corr2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Var1       Var2       cor            p
2 LeafDoctor     Assess 0.9666367 5.972544e-42
3     ImageJ     Assess 0.9776918 8.143613e-48
6     ImageJ LeafDoctor 0.9797478 3.144091e-49</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Análise-de-Correlação_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Com <strong><code>corrplot</code></strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>corr2_1 <span class="ot">&lt;-</span> <span class="fu">cor</span>(corr2)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(corr2_1, <span class="at">method =</span> <span class="st">"square"</span>, <span class="at">type =</span> <span class="st">"upper"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Análise-de-Correlação_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>O argumento <code>diag = FALSE</code> remove a comparação dentro de um mesmo método, por exemplo, Assess com Assess.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(corr2_1, <span class="at">method =</span> <span class="st">"number"</span>, <span class="at">type =</span> <span class="st">"upper"</span>, <span class="at">diag =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Análise-de-Correlação_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="exemplo-2" class="level2">
<h2 class="anchored" data-anchor-id="exemplo-2">Exemplo 2</h2>
<section id="carregando-os-dados-1" class="level4">
<h4 class="anchored" data-anchor-id="carregando-os-dados-1">Carregando os dados</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>campo <span class="ot">&lt;-</span> <span class="fu">gsheet2tbl</span>(<span class="st">"https://docs.google.com/spreadsheets/d/1bq2N19DcZdtax2fQW9OHSGMR0X2__Z9T/edit#gid=866852711"</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>campo2 <span class="ot">&lt;-</span> campo <span class="sc">|&gt;</span> </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(DFC, FER, PROD)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(campo2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-f3c72fb2e11f30f9fb40" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f3c72fb2e11f30f9fb40">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32"],[10,10.5,12,11,6.2,6,7,6.5,6,6.2,6.5,5.5,5.5,4.5,5,4,4.5,4,4.5,3.8,4.5,3.5,4,4,4.3,4.5,4,3.5,4,5,3.5,5.8],[17,21,25,18,6.5,4,8,5,6,3.5,2.5,4,4,3,2.5,3,3.5,3.5,3,3,3.5,2.5,3,3,3.5,3.5,3,3.5,4,3.5,3,3.5],[4611,4312,4545,3409,5023,4839,4903,4975,5235,5014,5263,4928,5126,5370,4594,5471,5318,4664,5441,5065,5005,5529,4864,5627,5417,4623,4766,5704,4996,5129,5559,4629]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>DFC<\/th>\n      <th>FER<\/th>\n      <th>PROD<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"DFC","targets":1},{"name":"FER","targets":2},{"name":"PROD","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="gráficos-para-apresentar-os-coeficientes-de-correlações-1" class="level4">
<h4 class="anchored" data-anchor-id="gráficos-para-apresentar-os-coeficientes-de-correlações-1">Gráficos para apresentar os coeficientes de correlações</h4>
<p>Com <code>corgraph</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">corgraph</span>(campo2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Var1 Var2        cor            p
2  FER  DFC  0.9316978 9.864101e-15
3 PROD  DFC -0.6928161 1.110652e-05
6 PROD  FER -0.6258321 1.277444e-04</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Análise-de-Correlação_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Com <code>corrplot</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>campo2_1 <span class="ot">&lt;-</span> <span class="fu">cor</span>(campo2)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>campo2_1 <span class="sc">%&gt;%</span> <span class="fu">corrplot</span>(<span class="at">method =</span> <span class="st">"number"</span>, <span class="at">type =</span> <span class="st">"lower"</span>, <span class="at">diag =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Análise-de-Correlação_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="comparação-de-correlações" class="level2">
<h2 class="anchored" data-anchor-id="comparação-de-correlações">Comparação de correlações</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.test</span>(campo2<span class="sc">$</span>PROD, campo2<span class="sc">$</span>DFC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's product-moment correlation

data:  campo2$PROD and campo2$DFC
t = -5.2623, df = 30, p-value = 1.111e-05
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 -0.8388581 -0.4537361
sample estimates:
       cor 
-0.6928161 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.test</span>(campo2<span class="sc">$</span>PROD, campo2<span class="sc">$</span>FER)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's product-moment correlation

data:  campo2$PROD and campo2$FER
t = -4.3949, df = 30, p-value = 0.0001277
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 -0.7999565 -0.3544981
sample estimates:
       cor 
-0.6258321 </code></pre>
</div>
</div>
<p>Avalia-se os intervalos de confiança obtidos (IC da correlação entre PROD e DFC <em>vs.</em> IC da correlação entre PROD e FER) e caso não haja sobreposição de intervalos, as correlações diferem estatisticamente.</p>
</section>
<section id="exemplo-3" class="level2">
<h2 class="anchored" data-anchor-id="exemplo-3">Exemplo 3</h2>
<section id="importação-dos-dados" class="level4">
<h4 class="anchored" data-anchor-id="importação-dos-dados">Importação dos dados</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span> <span class="fu">gsheet2tbl</span>(<span class="st">"https://docs.google.com/spreadsheets/d/1t1oOnimLXdx6rqtDiYg6wNXB2byY8_Z-/edit?gid=1891383351#gid=1891383351"</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(dados)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-572c129529dacc1770fc" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-572c129529dacc1770fc">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],["Controle","Controle","Controle","Controle","Fungicida","Fungicida","Fungicida","Fungicida","SiS + F","SiS + F","SiS + F","SiS + F","F SiS F","F SiS F","F SiS F","F SiS F","SiS F SiS","SiS F SiS","SiS F SiS","SiS F SiS","SiS","SiS","SiS","SiS","Controle","Controle","Controle","Controle","Fungicida","Fungicida","Fungicida","Fungicida","SiS + F","SiS + F","SiS + F","SiS + F","F SiS F","F SiS F","F SiS F","F SiS F","SiS F SiS","SiS F SiS","SiS F SiS","SiS F SiS","SiS","SiS","SiS","SiS"],[1,2,3,4,1,2,3,4,1,2,3,4,1,2,3,4,1,2,3,4,1,2,3,4,1,2,3,4,1,2,3,4,1,2,3,4,1,2,3,4,1,2,3,4,1,2,3,4],[0.76875,0.805,0.7,0.87,0.02625,0.025,0.02625,0.025,0.0255,0.0285,0.0275,0.025,0.025,0.0275,0.025,0.0275,0.125,0.11,0.135,0.155,0.8125,0.715,0.71875,0.73,0.55,0.6,0.55,0.5600000000000001,0.0325,0.035,0.03,0.03625,0.15,0.095,0.09,0.08,0.19,0.135,0.08500000000000001,0.07000000000000001,0.3,0.32,0.315,0.335,0.65,0.6,0.61,0.52],[0.9997921,0.9915434,0.9938442,0.9524941,0.8915767,0.8891919,0.9090437,0.8868194,0.8902855,0.9003734,0.8294246,0.8868631,0.8199267,0.8294246,0.8072177,0.819721,0.9648787,0.9586787,0.9636168000000001,0.9694278,0.9865416,0.22311029,0.44302668,0.60273202,0.2545606,0.18588755,0.23314099,0.29168468,0.05419143,0.05912233,0.09212113,0.09856110999999999,0.15172968,0.10169213,0.9408194,0.11856541,0.13190306,0.12911801,0.13094351,0.15842064,0.24968864,0.26781118,0.23886745,0.14851587,0.9692447,0.20048777,0.1931052,0.17960603],[11.81,13.8,12.8,13.6,0.907,0.875,0.866125,0.86,0.86,0.88,0.89,0.91,0.92,1.048,0.92,0.96,2.15,2.12,2.23,2.45,11.9,11.81,12.79,12.79,12,9.880000000000001,10.76,13.29,0.98,1.05,0.98,1.03,4.49,2.47,2.37,2.21,4.7,2.84,1.9,2.37,8.539999999999999,9.1,8.52,7.93,16.53,13.81,13.61,11.12],[4.125,4.5,4,4,1.1,1.15,1.05,1.1,1.275,1.325,1.375,1.4,2.35,2.25,1.275,1.25,3,2.875,2,2.75,4.375,4,4,4.875,5,4.75,4.88,5,2.25,2,2.5,2,2.25,2.5,2.75,3,2,2.75,2.5,2,4.75,4.75,4.63,4,5,4.63,5,4.88],[0.394,0.378,0.532,0.572,1.679,1.587,1.583,1.574,1.579,1.457,1.516,1.864,1.884,1.733,1.77,1.843,1.821,1.79,1.585,1.684,1.057,0.78,1.102,1.197,1.065,0.665,0.512,0.741,1.866,1.988,2.009,1.515,2.686,2.196,2.055,1.412,1.98,1.748,1.399,1.698,1.327,1.609,0.798,0.801,0.668,0.445,0.944,0.549],[0.199,0.183,0.23,0.244,1.594,1.353,1.513,1.69,1.164,1.041,1.028,1.152,1.255,1.138,1.264,1.178,1.373,1.421,1.236,1.582,0.359,0.262,0.375,0.426,0.338,0.221,0.166,0.276,0.677,0.618,0.654,0.454,0.863,0.653,0.643,0.434,0.575,0.52,0.408,0.499,0.407,0.493,0.261,0.265,0.218,0.164,0.319,0.189],[0.276,0.273,0.298,0.303,0.33,0.328,0.318,0.308,0.392,0.316,0.393,0.392,0.401,0.397,0.396,0.433,0.42,0.417,0.343,0.35,0.331,0.284,0.357,0.383,0.28,0.287,0.235,0.274,0.399,0.435,0.413,0.328,0.5590000000000001,0.502,0.412,0.31,0.434,0.407,0.316,0.393,0.343,0.412,0.259,0.271,0.26,0.244,0.295,0.263],[0.593,0.5620000000000001,0.762,0.8159999999999999,3.347,2.941,3.113,3.096,2.89,2.463,2.445,3.016,3.139,2.853,3.034,3.02,3.416,3.211,2.822,3.265,1.417,1.041,1.476,1.623,1.403,0.886,0.678,1.017,2.544,2.606,2.663,1.969,3.548,2.849,2.698,1.846,2.555,2.268,1.807,2.198,1.734,2.102,1.059,1.066,0.886,0.609,1.263,0.738],[124.66,127.19,137.48,134.7,197.02,191.93,192.45,187.94,195.43,191.03,175.59,184.21,193.38,197.67,192.55,186.85,174.13,158.96,155.3,169.01,123.07,124.7,131.53,146.42,106.78,112.2,96.87,87.38,143.96,128.69,136.42,121.28,124.92,134.58,136.71,131.99,129.12,127.56,131.26,128.67,108.98,139.6,130.46,124.29,86.13,95.23999999999999,99.48999999999999,110.92],[3071.45,3031.03,3621.15,2956.73,5907.15,5401.98,4988.96,5187.26,5492.6,4895.74,4380.05,5464.09,5766.02,4327.88,5552.41,4316.72,3714.51,3879.72,4863.17,5061.15,2784.08,3119.54,3585.69,2962.64,2716.03,2606.69,1900.86,1759.54,3572.41,4445,4085.22,4128.23,4344.68,4531.49,4970.76,4460.55,4628.71,5360.63,3358.07,5017.01,3017.82,4418.99,4434.52,3807.54,1861.84,1171.49,2467.29,2926.54]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>EXPERIMENTO<\/th>\n      <th>Tratamento<\/th>\n      <th>BLOCO<\/th>\n      <th>y<\/th>\n      <th>r<\/th>\n      <th>AACPD<\/th>\n      <th>Desfolha<\/th>\n      <th>Chla<\/th>\n      <th>Chlb<\/th>\n      <th>Carotenoides<\/th>\n      <th>Chla+b<\/th>\n      <th>PMG<\/th>\n      <th>Produtividade<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,3,4,5,6,7,8,9,10,11,12,13]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"EXPERIMENTO","targets":1},{"name":"Tratamento","targets":2},{"name":"BLOCO","targets":3},{"name":"y","targets":4},{"name":"r","targets":5},{"name":"AACPD","targets":6},{"name":"Desfolha","targets":7},{"name":"Chla","targets":8},{"name":"Chlb","targets":9},{"name":"Carotenoides","targets":10},{"name":"Chla+b","targets":11},{"name":"PMG","targets":12},{"name":"Produtividade","targets":13}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="matriz-de-correlação" class="level4">
<h4 class="anchored" data-anchor-id="matriz-de-correlação">Matriz de correlação</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>cor1 <span class="ot">&lt;-</span> dados[,<span class="dv">4</span><span class="sc">:</span><span class="dv">13</span>]</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>corelacao1 <span class="ot">&lt;-</span> <span class="fu">cor</span>(cor1)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(corelacao1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-5496ffcca3645a338081" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5496ffcca3645a338081">{"x":{"filter":"none","vertical":false,"data":[["y","r","AACPD","Desfolha","Chla","Chlb","Carotenoides","Chla+b","PMG","Produtividade"],[1,0.01070457762524111,0.9629132079897189,0.8431825777054235,-0.8233378325844581,-0.7196863848310765,-0.56560371731945,-0.8500198060932376,-0.6356123006700959,-0.7747290548758792],[0.01070457762524111,1,-0.09441483458738092,-0.2721658348889703,-0.03037262571621693,0.5302309466853196,-0.042907416120458,0.2522378897162083,0.5897477313237132,0.2592766432613439],[0.9629132079897189,-0.09441483458738092,1,0.9058951035618957,-0.8187644561471328,-0.7622472804590574,-0.5844761717331354,-0.8692922552461529,-0.7245301524089446,-0.8204385758667668],[0.8431825777054235,-0.2721658348889703,0.9058951035618957,1,-0.73122763071452,-0.7899771625620964,-0.5288874175846074,-0.8276351881879002,-0.793017198426111,-0.8223905010153395],[-0.8233378325844581,-0.03037262571621693,-0.8187644561471328,-0.73122763071452,1,0.6498367124881145,0.8915234514276021,0.9224608114958756,0.5220803470419169,0.7159444197815321],[-0.7196863848310765,0.5302309466853196,-0.7622472804590574,-0.7899771625620964,0.6498367124881145,1,0.4342302958025113,0.8902181130368961,0.8761342136481535,0.7273697545786975],[-0.56560371731945,-0.042907416120458,-0.5844761717331354,-0.5288874175846074,0.8915234514276021,0.4342302958025113,1,0.7534003217080736,0.3765051660069449,0.5373233215519032],[-0.8500198060932376,0.2522378897162083,-0.8692922552461529,-0.8276351881879002,0.9224608114958756,0.8902181130368961,0.7534003217080736,1,0.7527878137704858,0.7899012696932489],[-0.6356123006700959,0.5897477313237132,-0.7245301524089446,-0.793017198426111,0.5220803470419169,0.8761342136481535,0.3765051660069449,0.7527878137704858,1,0.7835296569951128],[-0.7747290548758792,0.2592766432613439,-0.8204385758667668,-0.8223905010153395,0.7159444197815321,0.7273697545786975,0.5373233215519032,0.7899012696932489,0.7835296569951128,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>y<\/th>\n      <th>r<\/th>\n      <th>AACPD<\/th>\n      <th>Desfolha<\/th>\n      <th>Chla<\/th>\n      <th>Chlb<\/th>\n      <th>Carotenoides<\/th>\n      <th>Chla+b<\/th>\n      <th>PMG<\/th>\n      <th>Produtividade<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"y","targets":1},{"name":"r","targets":2},{"name":"AACPD","targets":3},{"name":"Desfolha","targets":4},{"name":"Chla","targets":5},{"name":"Chlb","targets":6},{"name":"Carotenoides","targets":7},{"name":"Chla+b","targets":8},{"name":"PMG","targets":9},{"name":"Produtividade","targets":10}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="plot-do-gráfico-de-corrrelação" class="level4">
<h4 class="anchored" data-anchor-id="plot-do-gráfico-de-corrrelação">Plot do Gráfico de Corrrelação</h4>
<p>Usando o pacote <em>´corrplot´</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crição de uma paleta de cores usando a paleta viridis</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>viridis_colors <span class="ot">&lt;-</span> <span class="fu">viridis</span>(<span class="dv">100</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot da matriz de correlação usando a paleta viridis</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(corelacao1, <span class="at">type =</span> <span class="st">"lower"</span>, <span class="at">col =</span> viridis_colors, <span class="at">tl.col =</span> <span class="st">"black"</span>, <span class="at">tl.srt =</span> <span class="dv">45</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Análise-de-Correlação_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>